server.port=8888
spring.application.name=gateway
spring.cloud.nacos.discovery.server-addr=127.0.0.1:8848

##\u5b9a\u4e49\u5404\u4e2a\u5fae\u670d\u52a1\u7684\u670d\u52a1\u540d\uff0c\u4ee5\u4fbf\u4e0b\u9762\u53ef\u4ee5\u5f15\u7528
duoduo.service.credits = credits
duoduo.service.order = order
duoduo.service.user = user

# \u5f00\u542f Feign \u5bf9 Sentinel \u7684\u652f\u6301
#feign.sentinel.enabled= true

#\u8ddf\u63a7\u5236\u53f0\u4ea4\u6d41\u7684\u7aef\u53e3,\u968f\u610f\u6307\u5b9a\u4e00\u4e2a\u672a\u4f7f\u7528\u7684\u7aef\u53e3\u5373\u53ef 
#\u6307\u5b9a\u548c\u63a7\u5236\u53f0\u901a\u4fe1\u7684\u7aef\u53e3\uff0c\u9ed8\u8ba4\u503c8719,\u5982\u4e0d\u8bbe\u7f6e\uff0c\u4f1a\u81ea\u52a8\u4ece8719\u5f00\u59cb\u626b\u63cf\uff0c\u4f9d\u6b21+1\uff0c\u76f4\u5230\u627e\u5230\u672a\u88ab\u5360\u7528\u7684\u7aef\u53e3
spring.cloud.sentinel.transport.port= 8090
# \u6307\u5b9a\u63a7\u5236\u53f0\u670d\u52a1\u7684\u5730\u5740
spring.cloud.sentinel.transport.dashboard= localhost:8089

#\u914d\u7f6eactuator  \u66b4\u9732\u6240\u6709\u7aef\u70b9  
#<dependency>
#    <groupId>org.springframework.boot</groupId>
#    <artifactId>spring-boot-starter-actuator</artifactId>
#</dependency>
management.endpoints.web.exposure.include= '*'


# \u8ba9gateway\u53ef\u4ee5\u53d1\u73b0nacos\u4e2d\u7684\u5fae\u670d\u52a1
spring.cloud.gateway.discovery.locator.enabled=true

spring.cloud.gateway.routes[0].id=${duoduo.service.credits}
# lb\u6307\u7684\u662f\u4ecenacos\u4e2d\u6309\u7167\u540d\u79f0\u83b7\u53d6\u5fae\u670d\u52a1,\u5e76\u9075\u5faa\u8d1f\u8f7d\u5747\u8861\u7b56\u7565
spring.cloud.gateway.routes[0].uri=lb://${duoduo.service.credits}
spring.cloud.gateway.routes[0].predicates[0].Path=/${duoduo.service.credits}/**
#Gateway\u9ed8\u8ba4\u8f6c\u53d1\u662f\u5168\u8def\u5f84\u7684\uff0c\u8bbe\u7f6eStripPrefix=1\u8868\u793a\u4ece\u4e8c\u7ea7url\u8def\u5f84\u8f6c\u53d1\uff0c\u5373http://localhost:port/activity/test\u5c06\u4f1a\u8f6c\u53d1\u5230http://{activity}/test
spring.cloud.gateway.routes[0].filters[0].StripPrefix=1


spring.cloud.gateway.routes[1].id=${duoduo.service.order}
# lb\u6307\u7684\u662f\u4ecenacos\u4e2d\u6309\u7167\u540d\u79f0\u83b7\u53d6\u5fae\u670d\u52a1,\u5e76\u9075\u5faa\u8d1f\u8f7d\u5747\u8861\u7b56\u7565
spring.cloud.gateway.routes[1].uri=lb://${duoduo.service.order}
spring.cloud.gateway.routes[1].predicates[0].Path=/${duoduo.service.order}/**
#Gateway\u9ed8\u8ba4\u8f6c\u53d1\u662f\u5168\u8def\u5f84\u7684\uff0c\u8bbe\u7f6eStripPrefix=1\u8868\u793a\u4ece\u4e8c\u7ea7url\u8def\u5f84\u8f6c\u53d1\uff0c\u5373http://localhost:port/activity/test\u5c06\u4f1a\u8f6c\u53d1\u5230http://{activity}/test
spring.cloud.gateway.routes[1].filters[0].StripPrefix=1

spring.cloud.gateway.routes[2].id=${duoduo.service.user}
# lb\u6307\u7684\u662f\u4ecenacos\u4e2d\u6309\u7167\u540d\u79f0\u83b7\u53d6\u5fae\u670d\u52a1,\u5e76\u9075\u5faa\u8d1f\u8f7d\u5747\u8861\u7b56\u7565
spring.cloud.gateway.routes[2].uri=lb://${duoduo.service.user}
spring.cloud.gateway.routes[2].predicates[0].Path=/${duoduo.service.user}/**
#Gateway\u9ed8\u8ba4\u8f6c\u53d1\u662f\u5168\u8def\u5f84\u7684\uff0c\u8bbe\u7f6eStripPrefix=1\u8868\u793a\u4ece\u4e8c\u7ea7url\u8def\u5f84\u8f6c\u53d1\uff0c\u5373http://localhost:port/activity/test\u5c06\u4f1a\u8f6c\u53d1\u5230http://{activity}/test
spring.cloud.gateway.routes[2].filters[0].StripPrefix=1
